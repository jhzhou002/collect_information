<!--pages/submission-detail/submission-detail.wxml-->
<view class="container">
  <view wx:if="{{submission}}" class="detail-container">
    <!-- åŸºæœ¬ä¿¡æ¯ -->
    <view class="info-card">
      <view class="card-header">
        <text class="card-title">ğŸ“ åŸºæœ¬ä¿¡æ¯</text>
      </view>
      <view class="info-row">
        <text class="info-label">æ˜µç§°</text>
        <text class="info-value">{{submission.nickname}}</text>
      </view>
      <view class="info-row">
        <text class="info-label">æäº¤æ—¶é—´</text>
        <text class="info-value">{{formattedTime}}</text>
      </view>
      <view class="info-row">
        <text class="info-label">ç»“ç®—çŠ¶æ€</text>
        <view class="status-badge {{submission.is_settled ? 'settled' : 'unsettled'}}">
          {{submission.is_settled ? 'å·²ç»“ç®—' : 'æœªç»“ç®—'}}
        </view>
      </view>
      <view wx:if="{{submission.remark}}" class="info-row">
        <text class="info-label">å¤‡æ³¨</text>
        <text class="info-value remark">{{submission.remark}}</text>
      </view>
    </view>

    <!-- é“¾æ¥åˆ—è¡¨ -->
    <view class="links-card">
      <view class="card-header">
        <text class="card-title">ğŸ”— æ–‡ç« é“¾æ¥</text>
        <text class="link-count">å…± {{links.length}} ä¸ªé“¾æ¥</text>
      </view>
      <view class="links-list">
        <view wx:for="{{links}}" wx:key="id" class="link-item">
          <view class="link-header">
            <text class="link-number">é“¾æ¥ {{index + 1}}</text>
          </view>
          <view class="link-content" data-url="{{item.url}}" bindtap="copyLink">
            <text class="link-url">{{item.url}}</text>
            <text class="copy-icon">ğŸ“‹</text>
          </view>
        </view>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="actions">
      <button class="action-button secondary" bindtap="goBack">
        è¿”å›åˆ—è¡¨
      </button>
    </view>
  </view>

  <!-- åŠ è½½ä¸­ -->
  <view wx:else class="loading">
    <text>åŠ è½½ä¸­...</text>
  </view>
</view>
